---
title: "R tutorial"
format: html
editor: visual
bibliography: References.bib
csl: vancouver.csl
---

# Testing av referanser

Dette blir bra @billatOxygenKineticsModelling2000! Muligens vanskelig @bossiOptimizingIntervalTraining2020.

# Scatterplot av alle deltakere i Boston marathon 2019

```{r}
#| echo: false
#| warning: false
#| message: false
library(exscidata)
library(tidyverse)


  exscidata::boston |>
  filter(year == 2019) |>
  
  ggplot(aes(x = age, y = seconds)) +
    geom_point()

```

# Lekser uke 40

## Oppgave 14

Bruk datasettet strengthvolume og lag en graf over maksimalstyrke ved tidspunktene session1 og \`post. Bruk en √∏verlse (exercise) og differensiere mellom treningsvolum (sets)

```{r}
#| echo: true
#| message: false
#| warning: false

library(tidyverse)
library(exscidata)

Oppgave14 <-strengthvolume %>% 
  filter(time %in% c("session1", "post"), 
  exercise == "legpress") %>% 
  mutate(time = factor(time, levels = c("session1", "post"))) %>% 
  ggplot(aes(x = time, y = load)) + 
  geom_point(size = 2) +
  facet_wrap(~ sets)

Oppgave14

```

## Oppgave 15

Bruk datasettet strengthvolume og lag en graf som beskriver forhold mellom bevegelshastighet og styrke. Bevegelshastighet finnes i variabelen exercise, hvor isom er isometrisk styrke (0 grader/sek), isok.60, isok.120 og isok.240 er isokinetisk styrke ved 60, 120 og 240 grader per sekund. Unders√∏k om vi visuelt kan forskjell mellom i forhold mellom hastighet og kraft per tidspunkt og kj√∏nn. Her kan man bruke en statistisk modell, for eksempel i JASPs Plot Builder, eller ved √• bruke geom_smooth i ggplot2. Her m√• variablene forandres for √• lage en kontinuerlig variabel som beskriver hastighet fra den kategoriske dataen i exercise.

```{r}
#| echo: true
#| message: false
#| warning: false

library(tidyverse)
library(exscidata)

Oppgave15 <- strengthvolume %>%
  filter(exercise %in% c("isom", "isok.60", "isok.120", "isok.240"),
         !is.na(load)) %>%
  mutate(velocity = case_when(
    exercise == "isom" ~ 0,
    exercise == "isok.60" ~ 60,
    exercise == "isok.120" ~ 120,
    exercise == "isok.240" ~ 240
  )) %>%
  ggplot(aes(x = velocity, y = load, color = sex)) +
  geom_smooth(method = "lm", se = TRUE) +
  facet_wrap(~ time)

Oppgave15
```

## Oppgave 16

Bruk datasettet millward for √• visualisere fordelingen av variabelene RNA og protein synthe% sis. Hvordan er variablene fordelt, hvordan kan vi beskrive fordelingene? Gj√∏r det samme med valgfri data fra strengthvolume.

```{r}
#| echo: true
#| message: false
#| warning: false

library(tidyverse)
library(exscidata)

Oppgave16a <- millward %>% 
  pivot_longer(c(RNA, protein_synthesis), names_to = "variabel",
               values_to = "verdi") %>% 
  ggplot(aes(x = verdi)) +
  geom_histogram(bins = 20, fill = "red", color = "black") +
  facet_wrap(~ variabel, scales = "free_x") +
  theme_minimal() +
  labs(
    title = "fordelinger: RNA og proteinsyntese",
    x = "¬µg/mg protein",
    y = "Antall"
  )

Oppgave16a


```

# Lekser uke 42

## Oppgave 4

Hva er gjennomsnittet i ùë¶ n√•r ùë• = 25 gitt dataene i tabellen under og modellen som beskrevet over (bruk R eller JASP til √• lage en regresjonsmodell)

```{r}
#| echo: true
#| message: false
#| warning: false

library(tidyverse)

Oppgave4 <- tribble(
  ~y,          ~x,
  24.101335,   26.95663,
  3.985363,    16.44842,
  30.791198,   35.88495,
  7.956984,    26.35217,
  20.332824,   23.68266,
  53.830212,   33.89251,
  57.869798,   42.78195,
  27.662066,   39.41210,
  -9.460978,   21.79455,
  24.423091,   23.87716,
  35.633235,   26.10441,
  77.110110,   47.16887,
  5.964273,    24.14388,
  10.763859,   44.22649,
  23.958606,   32.16668,
  45.799109,   17.25810)

regresjon <- lm(y ~ x, data = Oppgave4)
summary(regresjon)

predict(regresjon, newdata = data.frame(x = 25))


```

## Oppgave 7

Bruk datasettet cyclingstudy, lag en modell som beskriver hvordan h√∏yde (height.T1) p√•virker gjennomsnitt i VO‚ÇÇ‚Çò‚Çê‚Çñ‚Çõ (VO2.max).

```{r}
#| echo: true
#| message: false
#| warning: false

library(tidyverse)
library(exscidata)

Oppgave7 <- cyclingstudy

mod_hoyde <- lm(VO2.max ~ height.T1, data = Oppgave7)
summary(mod_hoyde)


```

## Oppgave 8

Lag en beskrivelse av modellen i forrige oppgave som inneholder antagelser om fordeling av den avhengige variabelen og forholdet mellom uavhengig varaibel og gjennomsnitt i utfallsvariabelen.

Svar: VO2maks (avghengig variabel) er antatt normalfordelt, det er et lin√¶rt forhold mellom h√∏yde og gjennomsnittlig vO2maks.

## Oppgave 9

Lag en figur som beskriver sammenhengen mellom variablene i modellen over og en figur som beskriver residualene i forhold til ¬´Predicted values¬ª, hva forteller figurene deg?

```{r}
#| echo: true
#| message: false
#| warning: false

library(tidyverse)
library(exscidata)

ggplot(Oppgave7, aes(height.T1, VO2.max)) +
  geom_point()+
  geom_smooth(method = "lm", se = TRUE) +
  labs(title = "H√∏yde og VO2maks", x = "H√∏yde (cm)", y = expression(VO[2] * " max (mL¬∑min"^-1*")"))






```

# Lekser uke 44

## Oppgave 1

# Referanser